    .text
    .globl _start

_start:

    # -------------------------------------------------
    # Base address = 0x00000100
    # -------------------------------------------------
    addi  x1, x0, 256          # x1 = 0x100

    # -------------------------------------------------
    # Load pattern 0xA1B2C3D4 into x2
    # -------------------------------------------------
    lui   x2, 0xA1B2C
    addi  x2, x2, 0x3D4        # x2 = 0xA1B2C3D4

    # -------------------------------------------------
    # SW
    # -------------------------------------------------
    sw    x2, 0(x1)

    # -------------------------------------------------
    # LW check
    # -------------------------------------------------
    lw    x3, 0(x1)
    bne   x3, x2, fail

    # -------------------------------------------------
    # LB check (expect 0xFFFFFFD4)
    # -------------------------------------------------
    lb    x4, 0(x1)
    addi  x5, x0, -44          # 0xD4 = -44 signed
    bne   x4, x5, fail

    # -------------------------------------------------
    # LBU check (expect 0x000000D4)
    # -------------------------------------------------
    lbu   x6, 0(x1)
    addi  x7, x0, 212          # 0xD4 = 212 unsigned
    bne   x6, x7, fail

    # -------------------------------------------------
    # LH check (expect 0xFFFFC3D4)
    # -------------------------------------------------
    lh    x8, 0(x1)
    lui   x9, 0xFFFFC
    addi  x9, x9, 0x3D4
    bne   x8, x9, fail

    # -------------------------------------------------
    # LHU check (expect 0x0000C3D4)
    # -------------------------------------------------
    lhu   x10, 0(x1)
    lui   x11, 0x0000C
    addi  x11, x11, 0x3D4
    bne   x10, x11, fail

    # -------------------------------------------------
    # SB test (write 0x55 at offset 1)
    # -------------------------------------------------
    addi  x12, x0, 0x55
    sb    x12, 1(x1)

    # Expected memory now:
    # D4 55 B2 A1

    lw    x13, 0(x1)
    lui   x14, 0xA1B25
    addi  x14, x14, 0x5D4      # 0xA1B255D4
    bne   x13, x14, fail

    # -------------------------------------------------
    # SH test (write 0x1234 at offset 2)
    # -------------------------------------------------
    lui   x15, 0x1
    addi  x15, x15, 0x234      # 0x00001234
    sh    x15, 2(x1)

    # Expected memory:
    # D4 55 34 12

    lw    x16, 0(x1)
    lui   x17, 0x12345
    addi  x17, x17, 0x5D4      # 0x123455D4
    bne   x16, x17, fail

# -------------------------------------------------
# PASS LOOP
# -------------------------------------------------
pass:
    addi  x31, x0, 1          # x31 = 1 → PASS flag
    jal   x0, pass

# -------------------------------------------------
# FAIL LOOP
# -------------------------------------------------
fail:
    addi  x31, x0, -1         # x31 = -1 → FAIL flag
    jal   x0, fail
